<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      >


    <h:head>
        <!--<link href="../resources/css/estilos1.css" rel="stylesheet" type="text/css"></link>-->    
        <h:outputStylesheet name="css/estilos1.css" />
    </h:head>
    <body>       
        <ui:composition template="./../WEB-INF/templates/plantilla.xhtml">
            <ui:define name="content">
                <p:growl id="msj" autoUpdate="false" life="600" showDetail="true" />
                <br/>      
                <div align="center">
                    <p:fieldset  id="contenido" legend="Reportes" rendered="#{indexBean.verificarPermisos(4,1)}" style="width: 500px">
                        <h:form style="width: 900px">

                            <p:fieldset id="reportDetalle"  legend="REPORTE DETALLE DE FACTURAS" toggleable="true" >
                                <br/><br/>
                                <p:outputLabel value="REALIZA LA BUSQUEDA DE FACTURAS CON SU DETALLE" style="text-align: center; font-weight: bold"/>
                                <br/><br/>
                                <h:panelGrid id="clienteDatos" border="0"  columns="2"  
                                             rendered="#{indexBean.verificarPermisos(1,1)}"
                                             style="width: 500px">

                                    <p:outputLabel value="Fecha de inicio" style="text-align: center; font-weight: bold"/>
                                    <p:outputLabel value="Fecha de fin" style="text-align: center; font-weight: bold"/>


                                    <p:calendar id="txtFechaInicio" value="#{reportes.fechaInicio}" 
                                                pages="3" placeholder="Año-mes-dia"
                                                pattern="yyyy-MM-dd" mask="true" locale="es" >                                         
                                    </p:calendar> 

                                    <p:calendar id="txtFechaFinal" value="#{reportes.fechaFin}" 
                                                pages="3" placeholder="Año-mes-dia"
                                                pattern="yyyy-MM-dd" mask="true" locale="es" >                                                                             
                                    </p:calendar>   

                                </h:panelGrid>  
                                <br/>
                                <p:tooltip for="txtFechaInicio" value="Debes ingresar año mes dia"/>
                                <p:tooltip for="txtFechaFinal" value="Debes ingresar año mes dia"/>
                                <h:commandLink id="repoteLink" actionListener="#{reportes.verReporteFactura()}" 
                                               rendered="#{indexBean.verificarPermisos(1,1)}"
                                               target="_blank" >
                                    <p:commandButton id="repoteLink2" value="Reporte" icon="ui-icon-print"   
                                                     rendered="#{indexBean.verificarPermisos(1,1)}"
                                                     update="msj"                                                  
                                                     />                                 
                                </h:commandLink> 
                            </p:fieldset>
                            <br/><br/>
                            <p:fieldset id="reportYears"  legend="REPORTE DE FACTURACIONES DEL AÑO" toggleable="true" collapsed="true">
                                <br/><br/>
                                <p:outputLabel value="REALIZA LA BUSQUEDA DE LO FACTURADO POR AÑO" style="text-align: center; font-weight: bold"/>
                                <br/><br/>
                                <h:panelGrid  border="0"  columns="1"  
                                              rendered="#{indexBean.verificarPermisos(1,1)}"
                                              style="width: 500px; text-align: center">

                                    <p:outputLabel value="Año" style="text-align: center; font-weight: bold"/>                                   

                                    <p:inputMask  id="txtYear" value="#{reportes.years}" mask="9999" />
                                </h:panelGrid>  
                                <br/>
                                <p:tooltip for="txtYear" value="Debes ingresar un año"/>

                                <h:commandLink id="repoteLink3" actionListener="#{reportes.verReporteFacturaYears()}" 
                                               rendered="#{indexBean.verificarPermisos(1,1)}"
                                               target="_blank" >
                                    <p:commandButton id="repoteLink4" value="Reporte" icon="ui-icon-print"   
                                                     rendered="#{indexBean.verificarPermisos(1,1)}"
                                                     update="msj"                                                  
                                                     />                                 
                                </h:commandLink> 
                            </p:fieldset>         
                            <br/>
                            <p:blockUI block="contenido"   >
                                <p:graphicImage value="../resources/img/load3.gif"/>
                            </p:blockUI>
                        </h:form>
                    </p:fieldset>
                </div>

                <script type="text/javascript">
                    PrimeFaces.locales['es'] = {
                        closeText: 'Cerrar',
                        prevText: 'Anterior',
                        nextText: 'Siguiente',
                        monthNames: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],
                        monthNamesShort: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic'],
                        dayNames: ['Domingo', 'Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado'],
                        dayNamesShort: ['Dom', 'Lun', 'Mar', 'Mie', 'Jue', 'Vie', 'Sab'],
                        dayNamesMin: ['D', 'L', 'M', 'X', 'J', 'V', 'S'],
                        weekHeader: 'Semana',
                        firstDay: 1,
                        isRTL: false,
                        showMonthAfterYear: false,
                        yearSuffix: '',
                        timeOnlyTitle: 'Sólo hora',
                        timeText: 'Tiempo',
                        hourText: 'Hora',
                        minuteText: 'Minuto',
                        secondText: 'Segundo',
                        currentText: 'Fecha actual',
                        ampm: false,
                        month: 'Mes',
                        week: 'Semana',
                        day: 'Día',
                        allDayText: 'Todo el día',
                        today: 'Hoy',
                        clear: 'Claro'
                    };
                </script>
            </ui:define>


        </ui:composition>

    </body>
</html>
